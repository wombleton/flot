(function(i){i.fn.drag=function(j,k,l){if(k){this.bind("dragstart",j)}if(l){this.bind("dragend",l)}return !j?this.trigger("drag"):this.bind("drag",k?k:j)};var d=i.event,c=d.special,h=c.drag={not:":input",distance:0,which:1,dragging:false,setup:function(j){j=i.extend({distance:h.distance,which:h.which,not:h.not},j||{});j.distance=e(j.distance);d.add(this,"mousedown",f,j);if(this.attachEvent){this.attachEvent("ondragstart",a)}},teardown:function(){d.remove(this,"mousedown",f);if(this===h.dragging){h.dragging=h.proxy=false}g(this,true);if(this.detachEvent){this.detachEvent("ondragstart",a)}}};c.dragstart=c.dragend={setup:function(){},teardown:function(){}};function f(j){var k=this,l,m=j.data||{};if(m.elem){k=j.dragTarget=m.elem;j.dragProxy=h.proxy||k;j.cursorOffsetX=m.pageX-m.left;j.cursorOffsetY=m.pageY-m.top;j.offsetX=j.pageX-j.cursorOffsetX;j.offsetY=j.pageY-j.cursorOffsetY}else{if(h.dragging||(m.which>0&&j.which!=m.which)||i(j.target).is(m.not)){return}}switch(j.type){case"mousedown":i.extend(m,i(k).offset(),{elem:k,target:j.target,pageX:j.pageX,pageY:j.pageY});d.add(document,"mousemove mouseup",f,m);g(k,false);h.dragging=null;return false;case !h.dragging&&"mousemove":if(e(j.pageX-m.pageX)+e(j.pageY-m.pageY)<m.distance){break}j.target=m.target;l=b(j,"dragstart",k);if(l!==false){h.dragging=k;h.proxy=j.dragProxy=i(l||k)[0]}case"mousemove":if(h.dragging){l=b(j,"drag",k);if(c.drop){c.drop.allowed=(l!==false);c.drop.handler(j)}if(l!==false){break}j.type="mouseup"}case"mouseup":d.remove(document,"mousemove mouseup",f);if(h.dragging){if(c.drop){c.drop.handler(j)}b(j,"dragend",k)}g(k,true);h.dragging=h.proxy=m.elem=false;break}return true}function b(m,k,j){m.type=k;var l=i.event.handle.call(j,m);return l===false?false:l||m.result}function e(j){return Math.pow(j,2)}function a(){return(h.dragging===false)}function g(j,k){if(!j){return}j.unselectable=k?"off":"on";j.onselectstart=function(){return k};if(j.style){j.style.MozUserSelect=k?"":"none"}}})(jQuery);(function(f){var e=["DOMMouseScroll","mousewheel"];f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=e.length;a;){this.addEventListener(e[--a],d,false)}}else{this.onmousewheel=d}},teardown:function(){if(this.removeEventListener){for(var a=e.length;a;){this.removeEventListener(e[--a],d,false)}}else{this.onmousewheel=null}}};f.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function d(b){var h=[].slice.call(arguments,1),a=0,c=true;b=f.event.fix(b||window.event);b.type="mousewheel";if(b.wheelDelta){a=b.wheelDelta/120}if(b.detail){a=-b.detail/3}h.unshift(b,a);return f.event.handle.apply(this,h)}})(jQuery);(function(b){var a={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,frameRate:20}};function c(d){function e(j,f){var k=j.getOptions();if(k.zoom.interactive){function m(o,n){var p=j.offset();p.left=o.pageX-p.left;p.top=o.pageY-p.top;if(n){j.zoomOut({center:p})}else{j.zoom({center:p})}}f[k.zoom.trigger](m);f.mousewheel(function(n,o){m(n,o<0);return false})}if(k.pan.interactive){var i="default",h=0,g=0,l=null;f.bind("dragstart",{distance:10},function(n){if(n.which!=1){return false}eventHolderCursor=f.css("cursor");f.css("cursor","move");h=n.pageX;g=n.pageY});f.bind("drag",function(n){if(l||!k.pan.frameRate){return}l=setTimeout(function(){j.pan({left:h-n.pageX,top:g-n.pageY});h=n.pageX;g=n.pageY;l=null},1/k.pan.frameRate*1000)});f.bind("dragend",function(n){if(l){clearTimeout(l);l=null}f.css("cursor",i);j.pan({left:h-n.pageX,top:g-n.pageY})})}}d.zoomOut=function(f){if(!f){f={}}if(!f.amount){f.amount=d.getOptions().zoom.amount}f.amount=1/f.amount;d.zoom(f)};d.zoom=function(g){if(!g){g={}}var n=g.center,i=g.amount||d.getOptions().zoom.amount,f=d.width(),k=d.height();if(!n){n={left:f/2,top:k/2}}var j=n.left/f,m=n.top/k,l={x:{min:n.left-j*f/i,max:n.left+(1-j)*f/i},y:{min:n.top-m*k/i,max:n.top+(1-m)*k/i}};b.each(d.getUsedAxes(),function(r,s){var t=s.options,q=l[s.direction].min,h=l[s.direction].max;q=s.c2p(q);h=s.c2p(h);if(q>h){var p=q;q=h;h=p}var o=h-q,u=t.zoomRange;if(u&&((u[0]!=null&&o<u[0])||(u[1]!=null&&o>u[1]))){return}t.min=q;t.max=h});d.setupGrid();d.draw();if(!g.preventEvent){d.getPlaceholder().trigger("plotzoom",[d])}};d.pan=function(f){var g={x:+f.left,y:+f.top};if(isNaN(g.x)){g.x=0}if(isNaN(g.y)){g.y=0}b.each(d.getUsedAxes(),function(k,l){var m=l.options,j,h,n=g[l.direction];j=l.c2p(l.p2c(l.min)+n),h=l.c2p(l.p2c(l.max)+n);var o=m.panRange;if(o){if(o[0]!=null&&o[0]>j){n=o[0]-j;j+=n;h+=n}if(o[1]!=null&&o[1]<h){n=o[1]-h;j+=n;h+=n}}m.min=j;m.max=h});d.setupGrid();d.draw();if(!f.preventEvent){d.getPlaceholder().trigger("plotpan",[d])}};d.hooks.bindEvents.push(e)}b.plot.plugins.push({init:c,options:a,name:"navigate",version:"1.2"})})(jQuery);